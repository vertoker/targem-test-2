Тестовое задание в Targem Games, попытка №2

Данный `README` на русском, все комментарии в коде - на английском

На реализацию тестового задания ушло суммарно 9-10 часов

Со времени [прошлого](https://github.com/vertoker/targem-test) тестового,
я сделал несколько side-проектов
- [cpp-lua-testcase](https://github.com/vertoker/cpp-lua-testcase) - абстрактный
скриптовый движок, который имплементирует основной функционал работы с `Lua`
- [mystd](https://github.com/vertoker/mystd) - моя реализация `std` типов с особенностями

## Как собрать

Я специально добавил 2 системы сборки: простой `.bat` файл и `cmake` с пресетами

`.bat` файл настроен для `g++` и общего пресета `Release`, рассчитан на сборку во всех случаях.
Чтобы собрать и запустить проект, достаточно запустить файл из *папки проекта*

`cmake` написан достаточно просто, здесь есть выбор пресетов между `Debug/Release` и
обе из них работают через `clang++` и `Ninja`. Чтобы собрать и запустить проект, 
нужно из *папки проекта* запустить консоль и прописать эти команды

```bat
cmake . --preset Debug
cd build/Debug
cmake --build .

targemtest2.exe
```

По необходимости заменить `Debug` на `Release` (или просто использовать `VS Code`/`Visual Studio`)

## Решения разработки

Тут я хочу описать мотивацию своих решений по поводу дизайна самого кода

`String.h`
- `Coding style` был полностью украден из файлов на вашем сайте. Видно, что файлы были написаны 
более 10 лет назад, но раз самого документа нет, то я постарался скопировать по имеющимся файлам
- Я изучил как устроен оригинальный `std::string` и постарался скопировать его поведение полностью
(в меру возможного, без шаблонов, аллокаторов и прочих фишек)
- Я использовал `namespace vertoker` потому что хочу показать, что это моя реализация. В реальной
реализации я бы естественно его сделал длиною в 3-4 буквы
- Множество `using` в начале файла я не использовал, так как это не шаблонный класс и все типы
и так достаточно просто вручную пишутся
- `size` и `capacity` описывают строку **без** `null-terminated` символа `/0`, такое поведение
есть в `std::string` и всех реализациях, которые я видел
- Управление динамической памятью очень простое и выглядит не слишком уж производительно
(особенно `default ctor`), тут явно не хватает оптимизаций по работе
с динамической памятью по типу `SSO` и аллокаторов
- У меня было желание добавить дополнительные функции по типу `Swap`, `Resize` или
различные операторы, но я решил не перегружать тестовое

`String.cpp`
- Я использую `initializer list` не всегда, скорее по вкусу. Считаю этот вопрос больше
синтаксическим сахаром и в такие моменты лучше смотреть на результат компилятора
- Использование `memcpy` вместо `strcpy(_s)` тоже как по мне вкусовщина. Выбор по факту
стоит между `for` и `while`. Пускай такие вопросы опять же будет решать компилятор
- Реализация `operator==(const String&, const char*)` отличается от типовой в угоду
оптимизации. Лучше использовать 1 цикл с условием, чем 2 цикла (`strlen`)
- Реализация `operator>>(std::istream&, String&)` использует не `getline`,
а просто `get`, чтобы динамически аллоцировать память по необходимости
- `GrowthFactor` я сделал `1.5`, потому что изначальный фактор `2` у `std::string`
не является самым оптимальным, а среди разных вариантов я выбрал самый распространённый:
[`FBVector`](https://github.com/facebook/folly/blob/main/folly/docs/FBVector.md),
[Scott Meyers](https://groups.google.com/g/comp.lang.c++.moderated/c/asH_VojWKJw/m/4jJHJXPzWJ0J),
[Тесты вариантов](https://ece.uwaterloo.ca/~dwharder/aads/Algorithms/Array_resizing/)

`main.cpp`
- Я использовал `std::sort` вместо чего-то ещё. Я мог бы написать свою сортировку, но
в задании я не увидел ничего про написание своего алгоритма сортировки
- Я не написал для строки `operator<` для сортировки, так как этого не было в задании, 
а ещё мне было так проще его отлаживать
- Предикат для сортировки я написал в виде отдельного типа-функции
(правда не шаблонного), который я скопировал с `std::greater`

И пожалуйста, если не примите тестовое, то объясните, что я сделал неправильно

Заранее спасибо

---

UPD: тестовое по их словам я выполнил значительно лучше (хоть и не без ошибок), и они даже 
думали над тем, чтобы пригласить меня на собеседование, но по итогу они сообщили, что не 
ищут разработчика срочно

Эти слова я могу рассценить как:

`Ты недостаточно хорош, чтобы мы нуждались в тебе не во время острой необходимости`

Короче не повезло, значит иду дальше по другим предложениям
